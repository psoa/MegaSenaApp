package br.com.psoa.megasena.megasenaapp.viewimport android.content.Intentimport android.os.Handlerimport android.support.v7.app.AppCompatActivityimport android.os.Bundleimport android.view.animation.AnimationUtilsimport br.com.psoa.megasena.megasenaapp.Rimport kotlinx.android.synthetic.main.activity_splash_screen.*class SplashScreen : AppCompatActivity() {    private val _splashDisplayLength = 3500    //FIXME: it is hard coded for the MVP    private val _currentLottery = "2039"    public override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_splash_screen)        load()    }    private fun load() {        val anim = AnimationUtils.loadAnimation(this, R.anim.splash_animation)        val sp = getSharedPreferences("lottery", MODE_PRIVATE)        val currentLottery = sp.getString("currentLottery", null)        if (currentLottery == null) {            sp.edit().putString("currentLottery", _currentLottery).apply()        }        anim.reset()        if (splash != null) {            splash.clearAnimation()            splash.startAnimation(anim)        }        Handler().postDelayed(                {                    val shared = getSharedPreferences("login", MODE_PRIVATE)                    val isLoggedIn = shared.getString("userId", null)                    val intent =                            if (isLoggedIn != null)                                Intent(this@SplashScreen, MenuActivity::class.java)                            else                                Intent(this@SplashScreen, LoginActivity::class.java)                    intent.flags = Intent.FLAG_ACTIVITY_NO_ANIMATION                    startActivity(intent)                    this@SplashScreen.finish()                },                _splashDisplayLength.toLong()        )    }}